<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
      lang="en">
<head th:replace="~{fragment/head :: head}">
</head>
<body class="d-flex flex-column min-vh-100">
<nav th:replace="~{fragment/navbar :: navbar}"></nav>
<div class="container flex-grow-1">
    <div class="row">
        <div class="col-md-10 mx-auto card mt-4 p-4">
            <form th:action="@{'/customer/update'}"
                  method="post" th:object="${customer}" enctype="multipart/form-data">
                <h2
                        class="my-3 text-primary d-flex justify-content-center align-items-center">
                    <img th:src="@{/images/customer/default.svg}" alt="pic" width="60"
                         height="60" class="mx-2"/> Update Your Information
                </h2>

                <div class="alert my-2"
                     th:classappend="${savedSuccessfully} ? 'alert-success' : 'alert-danger'"
                     th:if="${savingCustomer}">
                    <span th:text="${message}"></span>
                </div>

                <input type="hidden" th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}"/> <input type="hidden" name="id"
                                                          th:value="*{id}"/>
                <div>
                    <label for="firstname">First Name</label> <input type="text"
                                                                     class="form-control" name="firstname"
                                                                     id="firstname"
                                                                     th:field="*{firstname}" min="2" max="25" required/>
                </div>
                <br/>
                <div>
                    <label for="lastname">Last Name</label> <input type="text"
                                                                   class="form-control" name="lastname" id="lastname"
                                                                   th:field="*{lastname}" min="2" max="25" required/>
                </div>
                <br/>
                <div>
                    <label for="email">Email</label> <input type="email"
                                                            class="form-control" name="email" id="email"
                                                            th:field="*{email}"
                                                            min="10" max="100" readonly/>
                </div>
                <br/>
                <div class="d-flex">
                    <img alt="user"
                         th:src="@{${customer.photo == null || customer.photo.equals('default.svg') ? '/images/customer/default.svg' : '/images/customer/'+customer.photo}}"
                         width="60" height="60" class="mx-2"/> <input type="file"
                                                                      class="form-control" name="file"
                                                                      accept=".svg, .jpg, .jpeg, .png"/>
                </div>
                <br/>
                <div>
                    <button type="submit" class="btn btn-primary">Save</button>
                    <button type="reset" class="btn btn-danger">Clean</button>
                </div>
            </form>
        </div>
    </div>
</div>
<footer th:replace="~{fragment/footer :: footer}"></footer>
</body>
</html>